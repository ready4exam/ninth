<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CBSE Class 9 Science Curriculum</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        'cbse-blue': '#1a3e6a',
                        'cbse-light': '#f0f4f8',
                        'accent-green': '#059669', // Chemistry Color
                        'accent-red': '#dc2626',   // Biology Color
                        'accent-blue': '#2563eb',  // Physics Color
                        'unit-bg': '#e3f2fd',
                    }
                }
            }
        }
    </script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .book-card {
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
            transform: translate(0);
        }
        .book-card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            transform: translateY(-4px);
        }
    </style>
</head>
<body class="min-h-screen bg-cbse-light">

    <header class="bg-white shadow sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-xl font-bold text-cbse-blue cursor-pointer">CBSE Class 9 Science</h1>
            <nav>
                <button id="backToBooksBtn" class="nav-link hidden px-3 py-1 rounded-lg text-gray-600 hover:bg-cbse-light hover:text-cbse-blue transition" title="Back to Subjects">
                    <i data-lucide="book-open-text" class="w-5 h-5"></i>
                </button>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-10">

        <div id="book-select-view" class="p-6 md:p-10 min-h-screen bg-cbse-light">
            <h2 class="text-3xl font-extrabold text-cbse-blue mb-8 text-center">Select Subject Stream</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">

                <div class="book-card book-select-btn bg-white rounded-xl shadow-lg p-6 border-l-4 border-accent-green" 
                    data-book="chemistry" 
                    data-title="Chemistry: Matter and The Atom" 
                    data-color="accent-green">
                    <div class="flex items-start space-x-4">
                        <i data-lucide="flask-conical" class="w-8 h-8 text-accent-green mt-1"></i>
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-wider">Unit I & II</p>
                            <h3 class="text-xl font-bold text-gray-800">Chemistry</h3>
                            <p class="text-gray-600 mt-2">Study of matter, its structure, and fundamental laws.</p>
                            <span class="inline-block mt-3 text-sm font-medium text-accent-green">View Chapters</span>
                        </div>
                    </div>
                </div>

                <div class="book-card book-select-btn bg-white rounded-xl shadow-lg p-6 border-l-4 border-accent-red" 
                    data-book="biology" 
                    data-title="Biology: Cell, Tissues, and Health" 
                    data-color="accent-red">
                    <div class="flex items-start space-x-4">
                        <i data-lucide="leaf" class="w-8 h-8 text-accent-red mt-1"></i>
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-wider">Unit IV & V</p>
                            <h3 class="text-xl font-bold text-gray-800">Life Science (Biology)</h3>
                            <p class="text-gray-600 mt-2">Fundamental units of life, diversity, and health concepts.</p>
                            <span class="inline-block mt-3 text-sm font-medium text-accent-red">View Chapters</span>
                        </div>
                    </div>
                </div>

                <div class="book-card book-select-btn bg-white rounded-xl shadow-lg p-6 border-l-4 border-accent-blue" 
                    data-book="physics" 
                    data-title="Physics: Motion, Force, and Work" 
                    data-color="accent-blue">
                    <div class="flex items-start space-x-4">
                        <i data-lucide="rocket" class="w-8 h-8 text-accent-blue mt-1"></i>
                        <div>
                            <p class="text-sm font-semibold text-gray-500 uppercase tracking-wider">Unit III</p>
                            <h3 class="text-xl font-bold text-gray-800">Physics</h3>
                            <p class="text-gray-600 mt-2">The laws of motion, gravitation, work, and sound.</p>
                            <span class="inline-block mt-3 text-sm font-medium text-accent-blue">View Chapters</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="unit-view" class="hidden p-6 md:p-10 min-h-screen">
            <h2 id="unit-title" class="text-3xl font-extrabold text-cbse-blue mb-2"></h2>
            <p id="unit-subtitle" class="text-xl text-gray-600 mb-8">Select a chapter to start the quiz.</p>
            <div id="chapter-list" class="space-y-4 max-w-3xl mx-auto">
                </div>
        </div>

    </main>

    <script>
        // --- DATA STRUCTURE: The central hub for all chapters and their quiz table links ---
        const allChapters = {
            'chemistry': [
                // Chapters 1-4
                { chapter: 'matter_surroundings', title: 'Chapter 1: Matter in Our Surroundings', subtitle: 'Chemistry', icon: 'flask-conical', quiz_table: 'matter_quiz', color: 'accent-green' },
                { chapter: 'is_matter_pure', title: 'Chapter 2: Is Matter Around Us Pure', subtitle: 'Chemistry', icon: 'droplets', quiz_table: 'pure_matter_quiz', color: 'accent-green' },
                { chapter: 'atoms_molecules', title: 'Chapter 3: Atoms and Molecules', subtitle: 'Chemistry', icon: 'atom', quiz_table: 'atoms_quiz', color: 'accent-green' },
                { chapter: 'structure_atom', title: 'Chapter 4: Structure of the Atom', subtitle: 'Chemistry', icon: 'nucleus', quiz_table: 'structure_atom_quiz', color: 'accent-green' }
            ],
            'biology': [
                // Chapters 5, 6, 7, 13, 15
                { chapter: 'life', title: 'Chapter 5: The Fundamental Unit of Life (Cell)', subtitle: 'Biology', icon: 'dna', quiz_table: 'cell_quiz', color: 'accent-red' },
                { chapter: 'tissues', title: 'Chapter 6: Tissues', subtitle: 'Biology', icon: 'microscope', quiz_table: 'tissues_quiz', color: 'accent-red' },
                { chapter: 'diversity', title: 'Chapter 7: Diversity in Living Organisms', subtitle: 'Biology', icon: 'tree-deciduous', quiz_table: 'diversity_quiz', color: 'accent-red' },
                { chapter: 'health', title: 'Chapter 13: Why Do We Fall Ill', subtitle: 'Biology', icon: 'heart-pulse', quiz_table: 'health_quiz', color: 'accent-red' },
                { chapter: 'food_production', title: 'Chapter 15: Improvement in Food Resources', subtitle: 'Biology', icon: 'wheat', quiz_table: 'food_quiz', color: 'accent-red' }
            ],
            'physics': [
                // Chapters 8, 9, 10, 11, 12
                { chapter: 'motion', title: 'Chapter 8: Motion', subtitle: 'Physics', icon: 'move-right', quiz_table: 'motion_quiz', color: 'accent-blue' },
                { chapter: 'force', title: 'Chapter 9: Force and Laws of Motion', subtitle: 'Physics', icon: 'grip', quiz_table: 'force_quiz', color: 'accent-blue' },
                { chapter: 'gravitation', title: 'Chapter 10: Gravitation', subtitle: 'Physics', icon: 'globe', quiz_table: 'gravitation_quiz', color: 'accent-blue' },
                { chapter: 'work', title: 'Chapter 11: Work and Energy', subtitle: 'Physics', icon: 'bolt', quiz_table: 'work_quiz', color: 'accent-blue' },
                { chapter: 'sound', title: 'Chapter 12: Sound', subtitle: 'Physics', icon: 'volume-2', quiz_table: 'sound_quiz', color: 'accent-blue' }
            ]
        };

        // --- VIEW MANAGEMENT ---

        function showView(viewId) {
            document.getElementById('book-select-view').classList.add('hidden');
            document.getElementById('unit-view').classList.add('hidden');
            document.getElementById(viewId).classList.remove('hidden');

            // Toggle Header Buttons
            if (viewId === 'book-select-view') {
                document.getElementById('backToBooksBtn').classList.add('hidden');
            } else if (viewId === 'unit-view') {
                document.getElementById('backToBooksBtn').classList.remove('hidden');
            }
        }
        
        // Helper function to redirect for a hypothetical 'home' page
        function redirectToIndex() {
             // Change this to your actual index page if needed (e.g., 'index_class_9.html')
             // For now, it just reloads the current page (science.html)
             window.location.reload(); 
        }

        function renderChapterCard(chapterData, bookColor) {
            // Dynamically applies the subject color border
            const cardColor = `var(--tw-colors-${bookColor})`;

            const cardHtml = `
                <div class="bg-white rounded-lg shadow-md p-5 flex items-center justify-between border-l-4" style="border-left-color: ${cardColor};">
                    <div class="flex items-center space-x-4">
                        <div class="p-3 rounded-full bg-cbse-light">
                            <i data-lucide="${chapterData.icon}" class="w-5 h-5 text-cbse-blue"></i>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold text-gray-800">${chapterData.title}</h4>
                            <p class="text-sm text-gray-500">${chapterData.subtitle}</p>
                        </div>
                    </div>
                    <button class="quiz-btn bg-cbse-blue text-white font-medium py-2 px-4 rounded-lg hover:bg-opacity-90 transition" 
                            data-chapter="${chapterData.chapter}"
                            data-table="${chapterData.quiz_table}">
                        Start Quiz
                    </button>
                </div>
            `;
            return cardHtml;
        }

        // --- Core Logic: Populates the chapter list when a subject card is clicked ---
        function showUnits(book, title, color) {
            document.getElementById('unit-title').textContent = title;
            
            const chapterList = document.getElementById('chapter-list');
            chapterList.innerHTML = '';
            
            const chapters = allChapters[book] || [];
            
            chapters.forEach(chapter => {
                chapterList.innerHTML += renderChapterCard(chapter, color);
            });

            // Re-render lucide icons for the newly injected HTML
            lucide.createIcons();
            
            // Re-attach event listeners for the new quiz buttons
            chapterList.querySelectorAll('.quiz-btn').forEach(button => {
                button.addEventListener('click', handleQuizButtonClick);
            });

            showView('unit-view');
        }


        function attachEventListeners() {
            // Attach listeners to all book selection cards
            document.querySelectorAll('.book-select-btn').forEach(card => {
                if (!card.hasAttribute('data-listener-attached')) {
                    card.addEventListener('click', handleBookSelectClick);
                    card.setAttribute('data-listener-attached', 'true');
                }
            });
            
            // Global Nav Listeners
            document.querySelector('header h1').addEventListener('click', redirectToIndex);
            document.getElementById('backToBooksBtn').addEventListener('click', () => showView('book-select-view'));
        }

        // --- Event Handlers ---

        function handleQuizButtonClick(event) {
            const chapterName = event.currentTarget.dataset.chapter;
            // The logic here is to redirect to a quiz page using the chapter name
            startQuiz(chapterName);
        }

        function handleBookSelectClick(event) {
            const card = event.currentTarget;
            const book = card.dataset.book;
            const title = card.dataset.title;
            const color = card.dataset.color;
            showUnits(book, title, color);
        }

        // --- Quiz Redirection Placeholder ---
        function startQuiz(chapterName) {
            // This is the action for the Quiz button. 
            // It assumes your quiz files are named like 'motion_quiz.html'
            window.location.href = `${chapterName}_quiz.html`;
        }

        // --- Initialization on Document Load ---
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            attachEventListeners();
            
            // Start on the book-select view
            showView('book-select-view');
        });

    </script>
</body>
</html>
